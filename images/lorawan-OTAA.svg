<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="495px" preserveAspectRatio="none" style="width:808px;height:495px;background:#FFFFFF;" version="1.1" viewBox="0 0 808 495" width="808px" zoomAndPan="magnify"><defs><filter height="300%" id="fxfon0ad97ynf" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fxfon0ad97ynf)" height="376.9922" style="stroke:#A80036;stroke-width:1.0;" width="10" x="27.5" y="50.2969"/><rect fill="#FFFFFF" filter="url(#fxfon0ad97ynf)" height="246.1953" style="stroke:#A80036;stroke-width:1.0;" width="10" x="228.5" y="86.5625"/><rect fill="#FFFFFF" filter="url(#fxfon0ad97ynf)" height="246.1953" style="stroke:#A80036;stroke-width:1.0;" width="10" x="466.5" y="115.6953"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="32" x2="32" y1="40.2969" y2="452.2891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="233.5" x2="233.5" y1="40.2969" y2="452.2891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="471" x2="471" y1="40.2969" y2="452.2891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="721.5" x2="721.5" y1="40.2969" y2="452.2891"/><rect fill="#FEFECE" filter="url(#fxfon0ad97ynf)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="51" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="12" y="24.9951">Node</text><rect fill="#FEFECE" filter="url(#fxfon0ad97ynf)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="51" x="5" y="451.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="12" y="471.2842">Node</text><rect fill="#FEFECE" filter="url(#fxfon0ad97ynf)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="128" x="167.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="174.5" y="24.9951">Netzwerkserver</text><rect fill="#FEFECE" filter="url(#fxfon0ad97ynf)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="128" x="167.5" y="451.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="174.5" y="471.2842">Netzwerkserver</text><rect fill="#FEFECE" filter="url(#fxfon0ad97ynf)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="93" x="423" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="430" y="24.9951">Join-Server</text><rect fill="#FEFECE" filter="url(#fxfon0ad97ynf)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="93" x="423" y="451.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="430" y="471.2842">Join-Server</text><rect fill="#FEFECE" filter="url(#fxfon0ad97ynf)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="150" x="644.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="651.5" y="24.9951">Applikationsserver</text><rect fill="#FEFECE" filter="url(#fxfon0ad97ynf)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="150" x="644.5" y="451.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="651.5" y="471.2842">Applikationsserver</text><rect fill="#FFFFFF" filter="url(#fxfon0ad97ynf)" height="376.9922" style="stroke:#A80036;stroke-width:1.0;" width="10" x="27.5" y="50.2969"/><rect fill="#FFFFFF" filter="url(#fxfon0ad97ynf)" height="246.1953" style="stroke:#A80036;stroke-width:1.0;" width="10" x="228.5" y="86.5625"/><rect fill="#FFFFFF" filter="url(#fxfon0ad97ynf)" height="246.1953" style="stroke:#A80036;stroke-width:1.0;" width="10" x="466.5" y="115.6953"/><polygon fill="#A80036" points="216.5,82.5625,226.5,86.5625,216.5,90.5625,220.5,86.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="37.5" x2="222.5" y1="86.5625" y2="86.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="44.5" y="73.9302">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="57.5" y="66.3638">Join-Request,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="57.5" y="81.4966">&lt;DevEUI&gt;, &lt;JoinEUI&gt;</text><polygon fill="#A80036" points="454.5,111.6953,464.5,115.6953,454.5,119.6953,458.5,115.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="238.5" x2="460.5" y1="115.6953" y2="115.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="245.5" y="110.6294">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="258.5" y="110.6294">Join-Request, &lt;DevEUI&gt;</text><line style="stroke:#A80036;stroke-width:1.0;" x1="476.5" x2="518.5" y1="144.8281" y2="144.8281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="518.5" x2="518.5" y1="144.8281" y2="157.8281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="477.5" x2="518.5" y1="157.8281" y2="157.8281"/><polygon fill="#A80036" points="487.5,153.8281,477.5,157.8281,487.5,161.8281,483.5,157.8281" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8" x="483.5" y="139.7622">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="495.5" y="139.7622">zufällige &lt;Nonce&gt; wählen</text><line style="stroke:#A80036;stroke-width:1.0;" x1="476.5" x2="518.5" y1="217.2266" y2="217.2266"/><line style="stroke:#A80036;stroke-width:1.0;" x1="518.5" x2="518.5" y1="217.2266" y2="230.2266"/><line style="stroke:#A80036;stroke-width:1.0;" x1="477.5" x2="518.5" y1="230.2266" y2="230.2266"/><polygon fill="#A80036" points="487.5,226.2266,477.5,230.2266,487.5,234.2266,483.5,230.2266" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="483.5" y="197.0278">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="496.5" y="181.895">Sitzungsschlüssel anhand</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="496.5" y="197.0278">&lt;Nonce&gt; aus</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="496.5" y="212.1606">&lt;Root-Key&gt; berechnen</text><polygon fill="#A80036" points="249.5,255.3594,239.5,259.3594,249.5,263.3594,245.5,259.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="243.5" x2="465.5" y1="259.3594" y2="259.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="255.5" y="254.2935">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="268.5" y="254.2935">Ok, &lt;Nonce&gt;</text><polygon fill="#A80036" points="48.5,299.625,38.5,303.625,48.5,307.625,44.5,303.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="42.5" x2="227.5" y1="303.625" y2="303.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="54.5" y="290.9927">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="67.5" y="283.4263">Join-Accept, &lt;Nonce&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="67.5" y="298.5591">&lt;Adresse Node&gt;</text><polygon fill="#A80036" points="244.5,328.7578,234.5,332.7578,244.5,336.7578,240.5,332.7578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="238.5" x2="465.5" y1="332.7578" y2="332.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="250.5" y="327.6919">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191" x="263.5" y="327.6919">&lt;Netzwerksitzungsschlüssel&gt;</text><polygon fill="#A80036" points="709.5,357.8906,719.5,361.8906,709.5,365.8906,713.5,361.8906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="471.5" x2="715.5" y1="361.8906" y2="361.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="478.5" y="356.8247">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="491.5" y="356.8247">&lt;Applikationssitzungsschlüssel&gt;</text><line style="stroke:#A80036;stroke-width:1.0;" x1="37.5" x2="79.5" y1="426.2891" y2="426.2891"/><line style="stroke:#A80036;stroke-width:1.0;" x1="79.5" x2="79.5" y1="426.2891" y2="439.2891"/><line style="stroke:#A80036;stroke-width:1.0;" x1="32.5" x2="79.5" y1="439.2891" y2="439.2891"/><polygon fill="#A80036" points="42.5,435.2891,32.5,439.2891,42.5,443.2891,38.5,439.2891" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="44.5" y="406.0903">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="57.5" y="390.9575">Sitzungsschlüssel anhand</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="57.5" y="406.0903">&lt;Nonce&gt; aus</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="57.5" y="421.2231">&lt;Root-Key&gt; berechnen</text><!--MD5=[325b08eaf32f3fdf99d2375870c74412]
@startuml
participant Node
participant "Netzwerkserver" as Network
participant "Join-Server" as Join
participant "Applikationsserver" as App

autonumber
activate Node
Node-> Network: Join-Request,\n<DevEUI>, <JoinEUI>
activate Network
Network -> Join: Join-Request, <DevEUI>
activate Join
Join -> Join: zufällige <Nonce> wählen
Join -> Join: Sitzungsschlüssel anhand\n<Nonce> aus \n<Root-Key> berechnen
Join -> Network: Ok, <Nonce>
Network -> Node: Join-Accept, <Nonce>, \n<Adresse Node>
Join -> Network: <Netzwerksitzungsschlüssel>
deactivate Network
Join -> App: <Applikationssitzungsschlüssel>
deactivate Join
Node -> Node: Sitzungsschlüssel anhand\n<Nonce> aus \n<Root-Key> berechnen
deactivate Node
@enduml

PlantUML version 1.2022.2beta1(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>